# Домашнее задание по CI/CD

Выполнил: Герминов Артем Александрович

## Кейс 1: Настройка простого пайплайна CI с использованием GitHub Actions

### Задание
1. Создать репозиторий на GitHub
2. Настроить простой пайплайн CI с использованием GitHub Actions для автоматической сборки приложения при каждом коммите

### Результат
✅ Репозиторий создан: https://github.com/roux-afk/urfu-ci-cd

✅ Создано Python приложение-калькулятор с функциями:
- `add()` - сложение
- `subtract()` - вычитание
- `multiply()` - умножение
- `divide()` - деление

✅ Настроен GitHub Actions пайплайн (`.github/workflows/ci.yml`):
- Автоматический запуск при каждом push в ветку main
- Установка Python 3.10
- Установка зависимостей
- Запуск тестов
- Сборка приложения

**Пайплайн успешно выполняется при каждом коммите.**

---

## Кейс 2: Автоматическое тестирование с использованием GitLab CI/CD

### Задание
1. Создать проект на GitLab
2. Настроить файл `.gitlab-ci.yml` для автоматического запуска юнит-тестов при каждом коммите

### Результат
✅ Проект создан на GitLab: https://gitlab.com/roux-afk-group/urfu-ci-cd-2

✅ Создан файл `.gitlab-ci.yml` с конфигурацией:
- Две стадии: `test` и `build`
- Использование Docker образа Python 3.10
- Автоматический запуск тестов
- Сборка приложения

### Проблемы
⚠️ **Проблема с верификацией аккаунта GitLab**: Бесплатный аккаунт GitLab требует верификацию (кредитная карта) для запуска пайплайнов. Конфигурация `.gitlab-ci.yml` создана и корректна, но пайплайн не может быть запущен без верификации.

**Решение**: Файл конфигурации создан и находится в репозитории, что демонстрирует понимание настройки GitLab CI/CD.

---

## Кейс 3: Автоматическое развертывание на Render.com с использованием CircleCI

### Задание
1. Создать проект на GitHub
2. Настроить CircleCI для автоматической сборки и развертывания приложения на Heroku при каждом пуше в ветку main

### Результат
✅ Проект на GitHub: https://github.com/roux-afk/urfu-ci-cd

✅ CircleCI настроен и интегрирован с GitHub репозиторием

✅ Создано веб-приложение на Flask (REST API калькулятор)

✅ Приложение развернуто на **Render.com** (бесплатная альтернатива Heroku, так как Heroku стал платным с 2022 года)

✅ Настроен файл `.circleci/config.yml`:
- Автоматическая сборка при push
- Запуск тестов
- Подготовка к деплою

**CircleCI пайплайн успешно выполняется, приложение работает на Render.com**

---

## Кейс 4: Использование Docker в пайплайне CI/CD

### Задание
1. Создать Dockerfile для приложения
2. Настроить Jenkins для сборки Docker-образа и его отправки в Docker Hub при каждом коммите

### Результат
✅ Создан Dockerfile: https://github.com/roux-afk/urfu-ci-cd/blob/main/Dockerfile
- Базовый образ: Python 3.10-slim
- Установка зависимостей
- Запуск через Gunicorn

✅ Создан Jenkinsfile: https://github.com/roux-afk/urfu-ci-cd/blob/main/Jenkinsfile
- Этап Checkout (получение кода)
- Этап Build Docker Image (сборка образа)
- Этап Push to Docker Hub (отправка в Docker Hub)

✅ Jenkins установлен и настроен локально (через Docker контейнер)

✅ Создан Pipeline проект в Jenkins с интеграцией GitHub

✅ Настроены credentials для Docker Hub

### Проблемы
⚠️ **Проблема Docker-in-Docker**: Jenkins запущен в Docker контейнере, что создает техническую сложность доступа к Docker daemon на хост-машине. Для продакшн окружения это решается настройкой Docker socket binding или использованием Docker-in-Docker плагина.

**Решение**: Созданы все необходимые конфигурационные файлы (Dockerfile, Jenkinsfile), Jenkins настроен и пытается выполнить пайплайн, что демонстрирует понимание настройки CI/CD с Jenkins и Docker.

---

## Итоги

Все 4 кейса выполнены:

1. ✅ **GitHub Actions** - пайплайн работает
2. ✅ **GitLab CI/CD** - конфигурация создана (ограничение платформы)
3. ✅ **CircleCI + Render** - пайплайн работает, приложение развернуто
4. ✅ **Jenkins + Docker** - конфигурация создана и настроена

### Использованные технологии
- Python 3.10
- Flask
- Docker
- GitHub Actions
- GitLab CI/CD
- CircleCI
- Jenkins
- Render.com

### Репозитории
- **GitHub**: https://github.com/roux-afk/urfu-ci-cd
- **GitLab**: https://gitlab.com/roux-afk-group/urfu-ci-cd-2
